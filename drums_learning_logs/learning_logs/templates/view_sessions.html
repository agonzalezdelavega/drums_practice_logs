{% extends "base.html" %}

{% block content %}
<div class="sessions">
    <div class="date-search-container">
        <form action="{% url 'view_sessions' %}" class="date-selector" method="post">
            {% csrf_token %}
            {{ form.as_table }}
            <button type="submit" class="date-search-button">Search</button>
        </form>
        <a class="date-search-button" href="{% url 'view_sessions' %}">View Last 30 Days</a>
    {% if session_data|length == 0 %}
        <p><strong>No records were found for the given date range.</strong></p>
    </div>
    {% else %}
    </div>
    <table class="session-history">
        <thead>
            <tr>
                {% for field in fields %}
                    <th>{{ field }}</th>
                {% endfor %}
            </tr>
        </thead>
        <tbody>
            {% for session in session_data %}
                <tr>
                    <td class="session-data">{{ session.date }}</td>
                    <td class="session-data">{{ session.time_minutes }}</td>
                    <td class="session-data">{{ session.exercise }}</td>
                    <td class="session-data">{{ session.bpm }}</td>
                    <td class="session-data">{{ session.days_since_last_practice }}</td>
                    <td class="edit-session-button"><a><span class="material-symbols-outlined">edit</span></a></td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
    {% endif %}
</div>
<br>
{% endblock content %}
